name: Cria a imagem Docker 

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Compilar a imagem do Docker
      run: docker build . --file Dockerfile --tag hub.heds.com.br/dotnetdocker:${{ steps.date.outputs.date }}
      #run: docker build . --file Dockerfile --tag hub.heds.com.br/dotnetdocker:$(date +%s)
      
    - name: Enviar para reposit√≥rio de teste
      run: docker push hub.heds.com.br/dotnetdocker:${{ steps.date.outputs.date }}
#      with:
#        repository: hub.heds.com.br/dotnetdocker
        
      
